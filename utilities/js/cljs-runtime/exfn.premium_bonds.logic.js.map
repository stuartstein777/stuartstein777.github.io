{"version":3,"sources":["exfn/premium_bonds/logic.cljs"],"mappings":";AAEA,wCAAA,xCAAMA,wFAAcC;AAApB,yBAEG,AAACC,4CAAI,WAAKC,GAAGC,nFAUb,OAACQ;AAVI,mGACMT,9CACA,iDAAA,jDAACE,2GAAeD,hKAChB,mKAAA,5JAACC,4NAAiB,iBAAAC,cAAOG;IAAPF,cAAS,qEAAA,6EAAA,jJAACJ,mCAAAA,iGAAAA;AAAV,AAAA,oBAAA,CAAAG,4CAAAA,0CAAA,KAAAC,eAAAD,sBAAA,KAAAC;AAAA;;AAAA,oBAAA,CAAAD,4CAAAA,0CAAA,KAAAC,eAAAD,sBAAA,KAAAC;AAAA;;AAAA,oBAAA,CAAAD,4CAAAA,0CAAA,KAAAC,eAAAD,sBAAA,KAAAC;AAAA;;AAAA,MAAA,KAAAC,MAAA,CAAA,mEAAAD;;;;;GAIxBN,kFACK,4CAAA,5CAACC,oGAAYD,xKACb,AAACS,mDAAWC;;AAGzB,4CAAA,5CAAME,gGAAkBZ;AAAxB,+KAEO,+CAAA,WAAAa,1DAACC,pGACD,4CAAA,5CAACb,3EACD,uEAAA,hEAACe,+CAAON;AAFR,AAAS,oDAAA,7CAACK,kDAAK,AAAA,2FAAAF;GADfb","names":["exfn.premium-bonds.logic/get-balances","premium-bonds","cljs.core.map","pb","b","cljs.core.assoc","pred__16522","expr__16523","js/Error","cljs.core/=","cljs.core.reductions","cljs.core/+","cljs.core/reverse","exfn.premium-bonds.logic/get-total-prizes","p1__16525#","cljs.core.filter","cljs.core._EQ_","cljs.core.reduce"],"sourcesContent":["(ns exfn.premium-bonds.logic)\n\n(defn get-balances [premium-bonds]\n  (->>\n   (map (fn [pb b]\n          (-> pb\n              (assoc :balance b)\n              (assoc :narrative (condp = (pb :category)\n                                  21 \"Deposit\"\n                                  29 \"Withdrawl\"\n                                  17 \"Prize\"))))\n        premium-bonds\n        (->> (map :amount premium-bonds)\n             (reductions +)))\n   (reverse)))\n\n(defn get-total-prizes [premium-bonds]\n  (->> premium-bonds\n       (filter #(= 17 (:category %)))\n       (map :amount)\n       (reduce + 0)))"]}