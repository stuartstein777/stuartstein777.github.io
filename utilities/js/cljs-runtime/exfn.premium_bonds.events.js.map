{"version":3,"sources":["exfn/premium_bonds/events.cljs"],"mappings":";AAMA,yDAAA,zDAACA,iJAEA,cAAAC,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;oBAAT,AAAAF,4CAAAD,WAAA,IAAA,3EAAWI;AAAX,iJACMF,9CACA,iDAAA,6DAAA,9GAACG,9CACD,mKAAA,nKAACA,yOAAqBD,9RACtB,6SAAA,uDAAA,7VAACC;;AAER,8CAAA,2CAAA,uDAAA,mDAAA,8GAAA,0FAAA,iOAAA,iEAAA,mFAAA,gGAAA,gEAAA,mFAAA,n/BAAKC,sPAEe,iCAAA,hCAAKC,oHACL,AAACC,2GACD,+BAAA,2CAAA,8DAAA,xIAACC","names":["re_frame.core.reg_event_db","p__17094","vec__17096","cljs.core.nth","db","_","premium-bonds","cljs.core.assoc","exfn.premium-bonds.events/premium-bonds-api","exfn.shared.logic/base-and-port","ajax.core/json-request-format","ajax.core/json-response-format"],"sourcesContent":["(ns exfn.premium-bonds.events\n  (:require [re-frame.core :as rf]\n            [exfn.shared.logic :as slgc]\n            [day8.re-frame.http-fx]\n            [ajax.core :as ajax]))\n\n(rf/reg-event-db\n :process-premium-bonds\n (fn [db [_ premium-bonds]]\n   (-> db\n       (assoc :loading? false)\n       (assoc :premium-bonds premium-bonds)\n       (assoc :error nil))))\n\n(def premium-bonds-api\n  {:method          :get\n   :uri             (str slgc/base-and-port \"/premiumbonds\")\n   :format          (ajax/json-request-format)\n   :response-format (ajax/json-response-format {:keywords? true})\n   :on-success      [:process-premium-bonds]\n   :on-failure      [:fail]})\n\n"]}