{"version":3,"sources":["exfn/logic.cljs"],"mappings":";;AAGA,8BAAA,9BAAMA,oEAAkBC,OAAOC;AAA/B,AAGO,sDAAA,WAAAK,1DAACC;AAAD,AAAS,oDAAA,7CAACH,uDAAY,AAAA,mFAAAE;GADtB,+CAAA,WAAAJ,1DAACC;AAAD,AAAS,OAACC,6CAAEH,aAAa,AAAQ,4CAAAC,iBAAA,7DAACG;GADlCL;;AAIP,4BAAA,5BAAMQ,gEAAgBR,OAAOS;AAA7B,AAEO,sDAAA,WAAAC,1DAACP;AAAD,AAAqB,OAAA,AAAA,oFAAAO,6BAAA,JAASD;GAD9BT;;AAGP,+BAAA,2CAAA,IAAA,MAAA,IAAA,MAAA,IAAA,MAAA,IAAA,MAAA,IAAA,MAAA,IAAA,MAAA,IAAA,1IAAKW;AASL,kCAAA,lCAAMC,4EAAsBZ,OAAOa;AAAnC,AACE,IAAMC,2GACY,+CAAA,WAAAC,1DAACZ,lGACD,6CAAA,7CAACa;AADD,AAAqB,OAAA,AAAA,oFAAAD,8BAAA,LAASF;GAD9Bb;AAAlB,AAGEc;;AAEJ,sBAAA,tBAAMG,oDAAUC;AAAhB,AACE,GAAI,OAAA,NAAGA;AACL,QAAA,gDAASA;;AACT,mDAAKA;;;AAET,wBAAA,xBAAMC,wDAAYV,IAAIW,MAAMC;AAA5B,AACE,0DAAA,uDAAA,7DAAKA,sDAASD,WAAU,AAACH,oBAASR;;AAEpC","names":["exfn.logic/events-for-month","events","month-number","p1__32049#","cljs.core.filter","cljs.core._EQ_","cljs.core.get","p1__32050#","cljs.core.remove","exfn.logic/events-for-day","day","p1__32051#","exfn.logic/day-of-week-short","exfn.logic/events-types-on-date","date","result","p1__32052#","cljs.core.mapv","exfn.logic/pad-zero","num","exfn.logic/build-date","month","year"],"sourcesContent":["(ns exfn.logic\n  (:require [\"moment\" :as moment]))\n\n(defn events-for-month [events month-number]\n  (->> events\n       (filter #(= month-number (.month (get % :date))))\n       (remove #(= \"Holiday\" (:type %)))))\n\n(defn events-for-day [events day]\n  (->> events\n       (filter #(-> % :date (.isSame day \"day\")))))\n\n(def day-of-week-short\n  {1 \"MON\"\n   2 \"TUE\"\n   3 \"WED\"\n   4 \"THU\"\n   5 \"FRI\"\n   6 \"SAT\"\n   0 \"SUN\"})\n   \n(defn events-types-on-date [events date]\n  (let [result (->> events\n                    (filter #(-> % :date (.isSame date \"day\")))\n                    (mapv :type))]\n    result))\n\n(defn pad-zero [num]\n  (if (< num 10)\n    (str \"0\" num)\n    (str num)))\n\n(defn build-date [day month year]\n  (str year \"-\" month \"-\" (pad-zero day)))\n\n(comment\n  (let [date (moment \"2024-08-01\")\n        events [\n                {:id 1 :name \"foo\" :description \"food\" :type \"Night Out\" :location \"loc\" :date (moment \"2024-08-01\")}\n                {:id 1 :name \"bar\" :description \"foodb\" :type \"Club\" :location \"loc\" :date (moment \"2024-08-13\")}\n                {:id 1 :name \"quax\" :description \"foodq\" :type \"Climbing\" :location \"loc\" :date (moment \"2024-08-30\")}]]\n    (->> events\n         (filter #(-> % :date (.isSame date \"day\")))\n         (map :type)\n         (vec)))\n    )\n  "]}