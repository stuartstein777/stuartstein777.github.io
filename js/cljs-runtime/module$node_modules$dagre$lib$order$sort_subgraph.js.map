{
"version":3,
"file":"module$node_modules$dagre$lib$order$sort_subgraph.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/dagre/lib/order/sort-subgraph.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$dagre$lib$order$sort_subgraph\"] = function(global,require,module,exports) {\nvar _ = require(\"../lodash\");\nvar barycenter = require(\"./barycenter\");\nvar resolveConflicts = require(\"./resolve-conflicts\");\nvar sort = require(\"./sort\");\n\nmodule.exports = sortSubgraph;\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight: undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function(w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function(entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, \"barycenter\")) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br], true);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, \"barycenter\")) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight +\n                           blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function(entry) {\n    entry.vs = _.flatten(entry.vs.map(function(v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }), true);\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight +\n                         other.barycenter * other.weight) /\n                        (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","sortSubgraph","g","v","cg","biasRight","movable","children","bl","node","borderLeft","undefined","br","borderRight","subgraphs","_","filter","w","barycenters","barycenter","forEach","entry","length","subgraphResult","has","isUndefined","weight","entries","resolveConflicts","expandSubgraphs","result","sort","vs","flatten","predecessors","blPred","brPred","order","map"]
}
